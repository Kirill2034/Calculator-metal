{"version":3,"sources":["components/Chip/Chip.js","App.js","index.js"],"names":["Chip","title","selected","onClick","className","cn","metals","id","code","img","finenessList","value","cash","checkingAccount","payments","label","App","useState","metal","setMetal","metalImage","setMetalImage","localStorage","getItem","fineness","setFineness","payment","setPayment","gramms","setGramms","sum","setSum","onFinenessChange","newFinenessValue","useEffect","metalString","JSON","parse","finenessString","paymentString","src","alt","map","item","newMetalValue","onChange","options","placeholder","required","newPaymentValue","type","event","target","disabled","totalSum","parseInt","setItem","stringify","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f1c29253.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./Chip.css\";\nimport cn from \"classnames\";\n\nconst Chip = ({ title, selected, onClick }) => {\n  return (\n    <button className={cn(\"chip\", { selected })} onClick={onClick}>\n      {title}\n    </button>\n  );\n};\n\nexport default Chip;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { Chip } from \"./components/Chip\";\nimport Select from \"react-select\";\n\nconst metals = [\n  {\n    id: 1,\n    code: \"gold\",\n    img: \"https://static8.depositphotos.com/1000128/859/i/600/depositphotos_8595716-stock-photo-stacks-of-gold-bars.jpg\",\n    title: \"Золото\",\n    finenessList: [\n      { id: 1, value: 375, cash: 90, checkingAccount: 100 },\n      { id: 2, value: 575, cash: 190, checkingAccount: 250 },\n      { id: 3, value: 775, cash: 290, checkingAccount: 350 },\n    ],\n  },\n  {\n    id: 2,\n    code: \"argent\",\n    img: \"https://st.depositphotos.com/1187563/4173/i/600/depositphotos_41738915-stock-photo-stack-of-bank-silver-bars.jpg\",\n    title: \"Серебро\",\n    finenessList: [\n      { id: 1, value: 460, cash: 290, checkingAccount: 200 },\n      { id: 2, value: 700, cash: 390, checkingAccount: 350 },\n      { id: 3, value: 975, cash: 490, checkingAccount: 450 },\n    ],\n  },\n  {\n    id: 3,\n    code: \"palladium\",\n    img: \"https://st3.depositphotos.com/1001877/34917/i/600/depositphotos_349170978-stock-photo-palladium-bars-or-ingots-background.jpg\",\n    title: \"Палладий\",\n    finenessList: [\n      { id: 1, value: 800, cash: 490, checkingAccount: 400 },\n      { id: 2, value: 500, cash: 590, checkingAccount: 550 },\n      { id: 3, value: 375, cash: 690, checkingAccount: 650 },\n    ],\n  },\n  {\n    id: 4,\n    code: \"platinum\",\n    img: \"https://images11.popmeh.ru/upload/img_cache/766/7666779fb91dc5440bbf12938e462122_ce_1200x640x0x119_cropped_666x444.jpg\",\n    title: \"Платина\",\n    finenessList: [\n      { id: 1, value: 300, cash: 690, checkingAccount: 600 },\n      { id: 2, value: 500, cash: 790, checkingAccount: 750 },\n      { id: 3, value: 275, cash: 890, checkingAccount: 850 },\n    ],\n  },\n];\n\nconst payments = [\n  {\n    value: \"cash\",\n    label: \"Наличные\",\n  },\n  {\n    value: \"checkingAccount\",\n    label: \"На расчётный счёт\",\n  },\n];\n\nconst App = () => {\n  const [metal, setMetal] = useState(metals[0]);\n  const [metalImage, setMetalImage] = useState(metals[0].img);\n  const [fineness, setFineness] = useState(localStorage.getItem(\"fineness\"));\n  const [payment, setPayment] = useState(localStorage.getItem(\"payment\"));\n  const [gramms, setGramms] = useState(localStorage.getItem(\"gramms\"));\n  const [sum, setSum] = useState(localStorage.getItem(\"sum\"));\n\n  const onMetalChange = (newMetalValue) => {\n    setMetal(newMetalValue);\n    setMetalImage(newMetalValue.img);\n\n    onFinenessChange(null);\n    setSum(null);\n  };\n\n  const onFinenessChange = (newFinenessValue) => {\n    setFineness(newFinenessValue);\n  };\n\n  const onPaymentChange = (newPaymentValue) => {\n    setPayment(newPaymentValue);\n  };\n\n  const onGrammsChange = (event) => {\n    setGramms(event.target.value);\n  };\n\n  const onCount = () => {\n    const grammPrice = fineness.value[payment.value];\n    const totalSum = grammPrice * parseInt(gramms);\n    setSum(totalSum);\n\n    localStorage.setItem(\"metal\", JSON.stringify(metal));\n    localStorage.setItem(\"sum\", totalSum);\n    localStorage.setItem(\"fineness\", JSON.stringify(fineness));\n    localStorage.setItem(\"payment\", JSON.stringify(payment));\n    localStorage.setItem(\"gramms\", gramms);\n  };\n\n  useEffect(() => {\n    const metalString = localStorage.getItem(\"metal\");\n\n    if (metalString !== null) {\n      const metal = JSON.parse(metalString);\n      setMetal(metal);\n    }\n\n    const finenessString = localStorage.getItem(\"fineness\");\n\n    if (finenessString !== null) {\n      const fineness = JSON.parse(finenessString);\n      setFineness(fineness);\n    }\n\n    const paymentString = localStorage.getItem(\"payment\");\n\n    if (paymentString !== null) {\n      const payment = JSON.parse(paymentString);\n      setPayment(payment);\n    }\n\n    if (sum !== null) {\n      setSum(sum);\n    }\n  }, []);\n\n  return (\n    <div className=\"calculator\">\n      <div className=\"calculator__title\">\n        <h2>Калькулятор</h2>\n      </div>\n      <div className=\"calculator__content\">\n        <div className=\"calculator__metal-image\">\n          <img src={metalImage} alt=\"\" />\n        </div>\n        <div className=\"calculator__metals\">\n          <div className=\"check-metal\">\n            {metals.map((item) => (\n              <Chip\n                key={item.id}\n                title={item.title}\n                selected={metal.id === item.id}\n                onClick={() => onMetalChange(item)}\n              />\n            ))}\n          </div>\n          <div className=\"calculator__parameters \">\n            <h2>Укажите следующие параметры:</h2>\n            <Select\n              className=\"select\"\n              value={fineness}\n              onChange={onFinenessChange}\n              options={metal.finenessList.map((item) => ({\n                value: item,\n                label: item.value,\n              }))}\n              placeholder=\"Проба металла\"\n              required\n            />\n            <Select\n              className=\"select\"\n              value={payment}\n              onChange={onPaymentChange}\n              options={payments}\n              placeholder=\"Способ выплаты\"\n              required\n            />\n            <input\n              type=\"number\"\n              value={gramms}\n              onChange={onGrammsChange}\n              placeholder=\"Вес металла (в граммах)\"\n              required\n            />\n          </div>\n          <div className=\"calculator__calculate\">\n            {sum && <h2>Итого:{sum}</h2>}\n\n            <button\n              disabled={!fineness || !payment || !gramms}\n              onClick={onCount}\n            >\n              Рассчитать\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}